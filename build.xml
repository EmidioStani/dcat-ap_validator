<project name="proj" default="main" basedir=".">
	<property name="rules-folder" value="rules"/>
	<property name="sparql-doc-folder" value="doc"/>
	<property name="jslint-folder" value="jslint"/>
	
	<target name="main" depends="jslint,sparql-doc"/>

	<taskdef name="jslint"
	classname="com.googlecode.jslint4java.ant.JSLintTask"
	classpath="${jslint-folder}/jslint4java-2.0.5.jar" />

	<target name="jslint">
		<jslint haltOnFailure="false" options="sloppy">
		<predef>LOG,Assert</predef>
		<formatter type="xml" destfile="${jslint-folder}/jslint.xml"/>
		<fileset dir="." includes="dcat-ap_validator.js"/>
		</jslint>
	</target>

	<target name="clean" depends="prepare">
		<delete dir="${sparql-doc-folder}">
	</target>

	<target name="create" depends="clean">
		<mkdir dir="${sparql-doc-folder}"/>
	</target
	
	<target name="sparql-doc" depends="create">
		<exec executable="cmd.exe" failonerror="true">
			<arg line="sparql-doc ${rules-folder} ${sparql-doc-folder}"/>
		</exec>
	</target>
</project>