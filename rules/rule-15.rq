# Rule_ID:15
# @title [Catalog] foaf:homepage has maximum cardinality of 1 for Catalog
# @tag catalog
# @endpoint http://localhost:3030/dcat_ap_validator/query
PREFIX adms: <http://www.w3.org/ns/adms#>
PREFIX dcat: <http://www.w3.org/ns/dcat#>
PREFIX dct: <http://purl.org/dc/terms/>
PREFIX foaf: <http://xmlns.com/foaf/0.1/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#>
PREFIX schema: <http://schema.org/>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX spdx: <http://www.spdx.org/rdf/terms#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
SELECT ?Rule_Origin ?Rule_ID ?Rule_Severity ?Rule_Description ?Message ?s ?p ?o
WHERE
{
 {
  #
  {SELECT ?s (rdf:type AS ?p) (dcat:Catalog AS ?o)
    WHERE {
      ?s a dcat:Catalog.
      ?s foaf:homepage ?home.
    } GROUP BY ?s
      HAVING(COUNT(?s > 1))
  }
  LET (?Rule_Origin := "DCAT-AP").
  LET (?Rule_ID := 15).
  LET (?Rule_Severity := "error").
  LET (?Rule_Description := "foaf:homepage has maximum cardinality of 1 for Catalog" ).
  LET (?Message := "The Catalog " + str(?o) + " as more than 1 foaf:homepage").
 }
}